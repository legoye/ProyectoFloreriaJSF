<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <h:body>
        <ui:composition template="/WEB-INF/facelets/templates/layout.xhtml">

            <ui:define name="contentSide">

            </ui:define>

            <ui:define name="content">
                <div class="container">
                    <div class="row">
                        <div class=" col-md-2">

                        </div>

                        <div class=" col-md-8">
                            <div class="row" style="margin-top: 50px">
                                <h2>Mi Carrito de Compras</h2>

                                <h:form id="form">
                                    <p:dataView var="car" value="#{dataGridView.cars}" rows="12" paginator="true" rowsPerPageTemplate="6,12,16"
                                                paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                gridIcon="fa fa-th-large" listIcon="fa fa-bars">

                                        <p:dataViewGridItem>
                                            <p:panel header="#{car.id}" style="text-align:center">
                                                <h:panelGrid columns="1" style="width:100%">
                                                    <p:graphicImage name="demo/images/car/#{car.brand}.gif"/> 

                                                    <h:outputText value="#{car.brand}" />

                                                    <p:commandLink update=":form:carDetail" oncomplete="PF('carDialog').show()" title="View Detail">
                                                        <h:outputText styleClass="ui-icon ui-icon-search" style="margin:0 auto;" />
                                                        <f:setPropertyActionListener value="#{car}" target="#{dataGridView.selectedCar}" />
                                                    </p:commandLink>
                                                </h:panelGrid>
                                            </p:panel>
                                        </p:dataViewGridItem>

                                        <p:dataViewListItem>
                                            <h:panelGrid columns="3" style="width:100%" columnClasses="logo,detail">
                                                <p:graphicImage name="demo/images/car/#{car.brand}-big.gif" /> 

                                                <p:outputPanel>
                                                    <h:panelGrid columns="2" cellpadding="5">
                                                        <h:outputText value="Id:" />
                                                        <h:outputText value="#{car.id}" style="font-weight: bold"/>

                                                        <h:outputText value="Year:" />
                                                        <h:outputText value="#{car.year}" style="font-weight: bold"/>

                                                        <h:outputText value="Color:" />
                                                        <h:outputText value="#{car.color}" style="font-weight: bold"/>
                                                    </h:panelGrid>
                                                </p:outputPanel>

                                                <p:commandLink update=":form:carDetail" oncomplete="PF('carDialog').show()" title="View Detail">
                                                    <h:outputText styleClass="ui-icon ui-icon-search" style="margin:0 auto;" />
                                                    <f:setPropertyActionListener value="#{car}" target="#{dataGridView.selectedCar}" />
                                                </p:commandLink>
                                            </h:panelGrid>
                                        </p:dataViewListItem>
                                    </p:dataView>

                                    <p:dialog header="Car Info" widgetVar="carDialog" modal="true" showEffect="fade" hideEffect="fade" resizable="false">
                                        <p:outputPanel id="carDetail" style="text-align:center;">
                                            <p:panelGrid  columns="2" rendered="#{not empty dataGridView.selectedCar}" columnClasses="label,value">
                                                <f:facet name="header">
                                                    <p:graphicImage name="demo/images/car/#{dataGridView.selectedCar.brand}-big.gif"/> 
                                                </f:facet>

                                                <h:outputText value="Id:" />
                                                <h:outputText value="#{dataGridView.selectedCar.id}" />

                                                <h:outputText value="Year" />
                                                <h:outputText value="#{dataGridView.selectedCar.year}" />

                                                <h:outputText value="Color:" />
                                                <h:outputText value="#{dataGridView.selectedCar.color}" style="color:#{dataGridView.selectedCar.color}"/>

                                                <h:outputText value="Price" />
                                                <h:outputText value="$#{dataGridView.selectedCar.price}" />
                                            </p:panelGrid>
                                        </p:outputPanel>
                                    </p:dialog>
                                </h:form>

                                <style type="text/css">         
                                    /*demo*/
                                    .ui-dataview-list .ui-dataview-row {
                                        border-bottom: 1px solid #A8A8A8;
                                        padding: 25px 10px;
                                    }

                                    .logo {
                                        width: 5%;
                                    }
                                    .detail {
                                        width: 85%;
                                        padding-left: 25px;
                                    }
                                </style>



























                                <h:dataTable value="#{carritoBean.list}" var="oSig" border="1"
                                             headerClass="mdb-color darken-3" 
                                             styleClass="table">
                                    <f:facet name="header">
                                        <h:outputText value="Mis carrito de Compras"/>
                                    </f:facet>
                                    <h:column>
                                        <f:facet name="header">
                                            <h:outputText value="Nombre del Articulo"/>
                                        </f:facet>
                                        <h:outputText value="#{oSig.name}"/>

                                    </h:column>
                                    <h:column footerClass="cab">
                                        <f:facet name="header">
                                            <h:outputText value="Descripcion del Producto"/>
                                        </f:facet>
                                        <h:outputText value="#{oSig.descripcion}"/>

                                    </h:column>
                                    <h:column footerClass="cab">
                                        <f:facet name="header">
                                            <h:outputText value="Precio"/>
                                        </f:facet>
                                        <h:outputText value="#{oSig.precio}"/>

                                    </h:column>

                                    <h:column footerClass="cab">
                                        <f:facet name="header">
                                            <h:outputText value="Eliminar"/>
                                        </f:facet>
                                        <h:form>
                                            <h:commandButton value="Eliminar" action="#{carritoBean.borrarCarrito()}">
                                                <f:param value="#{oSig.id}" name="id"/>
                                            </h:commandButton>
                                        </h:form>     

                                    </h:column>

                                    <f:facet name="footer">
                                        <h:outputText value="Mis articulos seleccionados"/>
                                    </f:facet>
                                </h:dataTable>



                                <!--Table
                                <table class="table">
                                    
                                    <thead class="mdb-color darken-3">
                                        <tr class="text-white">
                                            <th>#No.</th>
                                            <th>Nombre del Producto</th>
                                            <th>DescripciÃƒÆ’Ã†â€™Ãƒâ€ Ã¢â‚¬â„¢ÃƒÆ’Ã¢â‚¬Â ÃƒÂ¢Ã¢â€šÂ¬Ã¢â€žÂ¢ÃƒÆ’Ã†â€™ÃƒÂ¢Ã¢â€šÂ¬Ã…Â¡ÃƒÆ’Ã¢â‚¬Å¡Ãƒâ€šÃ‚Â³n</th>
                                            <th>Precio</th>
                                        </tr>
                                    </thead>
                                   
                                    <tbody>
                                        <tr>
                                            <th scope="row">1</th>
                                            <td>Producto 1</td>
                                            <td>DescripciÃƒÆ’Ã†â€™Ãƒâ€ Ã¢â‚¬â„¢ÃƒÆ’Ã¢â‚¬Â ÃƒÂ¢Ã¢â€šÂ¬Ã¢â€žÂ¢ÃƒÆ’Ã†â€™ÃƒÂ¢Ã¢â€šÂ¬Ã…Â¡ÃƒÆ’Ã¢â‚¬Å¡Ãƒâ€šÃ‚Â³n producto 1</td>
                                            <td>$500.00</td>
                                        </tr>                             
                                    </tbody>
                                    
                                </table>
                                Table-->
                            </div>
                            <div class="row" >
                                <div class="col-lg-8 col-md-6 mb-4">
                                </div>
                                <div class="col-lg-2 col-md-6 mb-4">
                                    <h1>Total:</h1>
                                </div>
                                <div class="col-lg-2 col-md-6 mb-4">             
                                    <h2>$2100.00</h2>
                                </div>

                            </div>

                            <div class=" col-md-2">

                            </div>

                            <div class="row" >

                                <div class="col-lg-8 col-md-6 mb-4">
                                </div>
                                <div class="col-lg-2 col-md-6 mb-4">
                                </div>
                                <div class="col-lg-2 col-md-6 mb-4">             
                                    <a href="pago.html" class="btn btn-primary">Pagar</a>
                                </div>

                            </div> 


                        </div>


                    </div>
                </div>



            </ui:define>

        </ui:composition>
    </h:body>
</html>

